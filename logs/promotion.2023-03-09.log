2023-03-09 22:11:00.081 [restartedMain] INFO  com.chat.message.MessageApplication - Starting MessageApplication using Java 1.8.0_102 on LAPTOP-2IRQMR2A with PID 3896 (C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat\target\classes started by 张强 in C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat)
2023-03-09 22:11:00.081 [restartedMain] DEBUG com.chat.message.MessageApplication - Running with Spring Boot v2.5.3, Spring v5.3.9
2023-03-09 22:11:00.081 [restartedMain] INFO  com.chat.message.MessageApplication - The following profiles are active: dev
2023-03-09 22:11:00.143 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-03-09 22:11:00.143 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-03-09 22:11:01.183 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9999 (http)
2023-03-09 22:11:01.183 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9999"]
2023-03-09 22:11:01.183 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-03-09 22:11:01.183 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-03-09 22:11:01.298 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring embedded WebApplicationContext
2023-03-09 22:11:01.298 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1155 ms
2023-03-09 22:11:01.461 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2023-03-09 22:11:01.784 [restartedMain] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2023-03-09 22:11:02.964 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-03-09 22:11:02.986 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9999"]
2023-03-09 22:11:03.002 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path '/message-server'
2023-03-09 22:11:03.002 [restartedMain] INFO  com.chat.message.MessageApplication - Started MessageApplication in 3.416 seconds (JVM running for 4.835)
2023-03-09 22:11:33.662 [http-nio-9999-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-09 22:11:33.663 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-03-09 22:11:33.664 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-03-09 22:11:33.765 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:11:33.785 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:11:33.817 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:17:05.938 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:17:05.938 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:17:05.938 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:31:50.839 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:31:50.839 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:31:50.841 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:31:54.093 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:31:54.094 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:31:54.097 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:31:55.572 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:31:55.573 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:31:55.574 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:31:55.576 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:31:55.577 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 2222(String)
2023-03-09 22:31:55.583 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:31:55.724 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 22:31:55.725 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 2(Long), 0(Long), 2(Long)
2023-03-09 22:31:55.736 [http-nio-9999-exec-9] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:2
2023-03-09 22:31:55.742 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT id,type,content,content_type,is_read,sender,receiver,request_id,is_last,created_by,created_time,updated_by,updated_time,del_flag,status,remarks FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) ORDER BY created_time DESC LIMIT ?,? 
2023-03-09 22:31:55.742 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 2(Long), 0(Long), 2(Long), 0(Long), 2(Long)
2023-03-09 22:31:55.747 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - <==      Total: 2
2023-03-09 22:31:55.751 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 22:31:55.752 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 2(Long), 0(Long)
2023-03-09 22:31:55.758 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 22:31:58.680 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:31:58.680 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:31:58.681 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:31:58.681 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 3333(String)
2023-03-09 22:31:58.682 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:31:58.682 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:31:58.758 [http-nio-9999-exec-4] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:3
2023-03-09 22:31:58.769 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 22:31:58.771 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 3(Long), 0(Long), 3(Long)
2023-03-09 22:31:58.775 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 22:31:58.776 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 3(Long), 0(Long)
2023-03-09 22:31:58.777 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 22:32:01.675 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:32:01.676 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 4444(String)
2023-03-09 22:32:01.677 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:32:01.677 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:32:01.678 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:32:01.678 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:32:01.762 [http-nio-9999-exec-9] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:4
2023-03-09 22:32:01.765 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 22:32:01.766 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long)
2023-03-09 22:32:01.772 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT id,type,content,content_type,is_read,sender,receiver,request_id,is_last,created_by,created_time,updated_by,updated_time,del_flag,status,remarks FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) ORDER BY created_time DESC LIMIT ?,? 
2023-03-09 22:32:01.772 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long), 0(Long), 2(Long)
2023-03-09 22:32:01.773 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - <==      Total: 2
2023-03-09 22:32:01.775 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 22:32:01.776 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 4(Long), 0(Long)
2023-03-09 22:32:01.779 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 3
2023-03-09 22:32:03.617 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:32:03.617 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 22:32:03.619 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 5555(String)
2023-03-09 22:32:03.619 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:32:03.621 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:32:03.621 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 22:32:03.702 [http-nio-9999-exec-4] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:5
2023-03-09 22:32:03.707 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 22:32:03.708 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 5(Long), 0(Long), 5(Long)
2023-03-09 22:32:03.710 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 22:32:03.711 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 5(Long), 0(Long)
2023-03-09 22:32:03.711 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 22:32:11.858 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:32:11.858 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:32:11.859 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:32:26.878 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:32:26.879 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:32:26.880 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:32:30.306 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:32:30.307 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:32:30.309 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 22:32:35.019 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 22:32:35.020 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 22:32:35.022 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 4
2023-03-09 23:11:43.099 [restartedMain] INFO  com.chat.message.MessageApplication - Starting MessageApplication using Java 1.8.0_102 on LAPTOP-2IRQMR2A with PID 3816 (C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat\target\classes started by 张强 in C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat)
2023-03-09 23:11:43.105 [restartedMain] DEBUG com.chat.message.MessageApplication - Running with Spring Boot v2.5.3, Spring v5.3.9
2023-03-09 23:11:43.105 [restartedMain] INFO  com.chat.message.MessageApplication - The following profiles are active: dev
2023-03-09 23:11:43.145 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-03-09 23:11:43.145 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-03-09 23:11:44.145 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9999 (http)
2023-03-09 23:11:44.156 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9999"]
2023-03-09 23:11:44.156 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-03-09 23:11:44.156 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-03-09 23:11:44.266 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring embedded WebApplicationContext
2023-03-09 23:11:44.266 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1121 ms
2023-03-09 23:11:44.405 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2023-03-09 23:11:44.706 [restartedMain] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2023-03-09 23:11:45.935 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-03-09 23:11:45.955 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9999"]
2023-03-09 23:11:45.965 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path '/message-server'
2023-03-09 23:11:45.975 [restartedMain] INFO  com.chat.message.MessageApplication - Started MessageApplication in 3.376 seconds (JVM running for 5.737)
2023-03-09 23:11:49.381 [http-nio-9999-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-09 23:11:49.381 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-03-09 23:11:49.381 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2023-03-09 23:11:49.475 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 23:11:49.495 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:11:49.515 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 5
2023-03-09 23:13:28.175 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 23:13:28.175 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:13:28.175 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 5
2023-03-09 23:13:28.986 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:13:28.986 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:13:28.995 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:13:28.995 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:13:28.995 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 4444(String)
2023-03-09 23:13:28.995 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:13:29.135 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:13:29.135 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long)
2023-03-09 23:13:29.143 [http-nio-9999-exec-5] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:4
2023-03-09 23:13:29.151 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT id,type,content,content_type,is_read,sender,receiver,request_id,is_last,created_by,created_time,updated_by,updated_time,del_flag,status,remarks FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) ORDER BY created_time DESC LIMIT ?,? 
2023-03-09 23:13:29.151 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long), 0(Long), 2(Long)
2023-03-09 23:13:29.155 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - <==      Total: 2
2023-03-09 23:13:29.155 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:13:29.155 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 4(Long), 0(Long)
2023-03-09 23:13:29.165 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 3
2023-03-09 23:13:47.583 [http-nio-9999-exec-9] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/message-server] threw exception [Request processing failed; nested exception is com.aliyun.oss.common.auth.InvalidCredentialsException: Access key id should not be null or empty.] with root cause
com.aliyun.oss.common.auth.InvalidCredentialsException: Access key id should not be null or empty.
	at com.aliyun.oss.common.auth.DefaultCredentialProvider.checkCredentials(DefaultCredentialProvider.java:63)
	at com.aliyun.oss.common.auth.DefaultCredentialProvider.<init>(DefaultCredentialProvider.java:38)
	at com.aliyun.oss.common.auth.DefaultCredentialProvider.<init>(DefaultCredentialProvider.java:34)
	at com.aliyun.oss.OSSClient.<init>(OSSClient.java:129)
	at com.chat.message.config.AliyunCloudStorageService.init(AliyunCloudStorageService.java:25)
	at com.chat.message.config.AliyunCloudStorageService.<init>(AliyunCloudStorageService.java:20)
	at com.chat.message.config.OSSFactory.build(OSSFactory.java:12)
	at com.chat.message.web.MobileMediaUploadController.upload(MobileMediaUploadController.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2023-03-09 23:13:48.614 [http-nio-9999-exec-10] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:4
2023-03-09 23:13:56.676 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_last=? WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:13:56.676 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 0(Integer), 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long)
2023-03-09 23:13:56.676 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 10
2023-03-09 23:13:56.685 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.insert - ==>  Preparing: INSERT INTO message ( type, content, content_type, is_read, sender, receiver, request_id, is_last, created_by, created_time, updated_by, updated_time, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2023-03-09 23:13:56.685 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.insert - ==> Parameters: 0(Integer), [{"type":2,"content":"[撇嘴]","imageClass":"smiley_1"}](String), 0(Integer), 0(String), 0(Long), 4(Long), dfa95c77-a791-47ba-9a25-7f81ec45a788(String), true(Boolean), null, 2023-03-09 23:13:56.665(Timestamp), null, null, 0(String)
2023-03-09 23:13:56.685 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.insert - <==    Updates: 1
2023-03-09 23:14:05.505 [http-nio-9999-exec-2] INFO  com.chat.message.web.WebSocketOneToOneController - 此二人聊天，距离上一次聊天时间相差分钟数：1
2023-03-09 23:14:05.505 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_last=? WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:14:05.505 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 0(Integer), 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long)
2023-03-09 23:14:05.515 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 11
2023-03-09 23:14:05.515 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - ==>  Preparing: INSERT INTO message ( type, content, content_type, is_read, sender, receiver, request_id, is_last, created_by, created_time, updated_by, updated_time, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2023-03-09 23:14:05.515 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - ==> Parameters: 0(Integer), [{"type":1,"content":"1"}](String), 0(Integer), 0(String), 0(Long), 4(Long), 346b55df-4dbc-4200-9f2c-dbf2bd9f162e(String), true(Boolean), null, 2023-03-09 23:14:05.469(Timestamp), null, null, 0(String)
2023-03-09 23:14:05.515 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - <==    Updates: 1
2023-03-09 23:22:45.196 [http-nio-9999-exec-5] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:4
2023-03-09 23:24:20.964 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:20.964 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 2222(String)
2023-03-09 23:24:20.964 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:20.964 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:20.964 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:24:20.964 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:21.061 [http-nio-9999-exec-9] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:2
2023-03-09 23:24:21.066 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:24:21.066 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 2(Long), 0(Long), 2(Long)
2023-03-09 23:24:21.066 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT id,type,content,content_type,is_read,sender,receiver,request_id,is_last,created_by,created_time,updated_by,updated_time,del_flag,status,remarks FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) ORDER BY created_time DESC LIMIT ?,? 
2023-03-09 23:24:21.066 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 2(Long), 0(Long), 2(Long), 0(Long), 2(Long)
2023-03-09 23:24:21.066 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.selectPage - <==      Total: 2
2023-03-09 23:24:21.066 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:24:21.076 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 2(Long), 0(Long)
2023-03-09 23:24:21.076 [http-nio-9999-exec-10] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 23:24:23.576 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:23.576 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 3333(String)
2023-03-09 23:24:23.576 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:23.576 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:23.576 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:24:23.576 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:23.676 [http-nio-9999-exec-4] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:3
2023-03-09 23:24:23.684 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:24:23.684 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 3(Long), 0(Long), 3(Long)
2023-03-09 23:24:23.684 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:24:23.684 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 3(Long), 0(Long)
2023-03-09 23:24:23.684 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 23:24:25.706 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:25.706 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:25.706 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 4444(String)
2023-03-09 23:24:25.706 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:24:25.706 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:25.706 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:25.826 [http-nio-9999-exec-10] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:4
2023-03-09 23:24:25.826 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:24:25.826 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long)
2023-03-09 23:24:25.826 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT id,type,content,content_type,is_read,sender,receiver,request_id,is_last,created_by,created_time,updated_by,updated_time,del_flag,status,remarks FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) ORDER BY created_time DESC LIMIT ?,? 
2023-03-09 23:24:25.826 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long), 0(Long), 2(Long)
2023-03-09 23:24:25.836 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - <==      Total: 2
2023-03-09 23:24:25.836 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:24:25.836 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 4(Long), 0(Long)
2023-03-09 23:24:25.836 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 3
2023-03-09 23:24:28.936 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:28.936 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 5555(String)
2023-03-09 23:24:28.936 [http-nio-9999-exec-6] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:28.936 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:28.936 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:24:28.936 [http-nio-9999-exec-3] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:29.036 [http-nio-9999-exec-4] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:5
2023-03-09 23:24:29.036 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:24:29.036 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 5(Long), 0(Long), 5(Long)
2023-03-09 23:24:29.046 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:24:29.046 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 5(Long), 0(Long)
2023-03-09 23:24:29.046 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 23:24:30.967 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:30.967 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 66(String)
2023-03-09 23:24:30.967 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:24:30.967 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:24:30.967 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:30.967 [http-nio-9999-exec-9] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:24:31.066 [http-nio-9999-exec-10] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:24:31.076 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:24:31.076 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 6(Long), 0(Long), 6(Long)
2023-03-09 23:24:31.076 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:24:31.076 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 6(Long), 0(Long)
2023-03-09 23:24:31.076 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 23:26:23.996 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:26:23.996 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 4444(String)
2023-03-09 23:26:23.996 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:26:23.996 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:26:23.996 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:26:23.996 [http-nio-9999-exec-5] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:26:24.106 [http-nio-9999-exec-7] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:4
2023-03-09 23:26:24.106 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:26:24.106 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long)
2023-03-09 23:26:24.106 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT id,type,content,content_type,is_read,sender,receiver,request_id,is_last,created_by,created_time,updated_by,updated_time,del_flag,status,remarks FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) ORDER BY created_time DESC LIMIT ?,? 
2023-03-09 23:26:24.106 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 4(Long), 0(Long), 4(Long), 0(Long), 2(Long)
2023-03-09 23:26:24.114 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.selectPage - <==      Total: 2
2023-03-09 23:26:24.114 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:26:24.114 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 4(Long), 0(Long)
2023-03-09 23:26:24.114 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 3
2023-03-09 23:30:45.816 [restartedMain] INFO  com.chat.message.MessageApplication - Starting MessageApplication using Java 1.8.0_102 on LAPTOP-2IRQMR2A with PID 6584 (C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat\target\classes started by 张强 in C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat)
2023-03-09 23:30:45.816 [restartedMain] DEBUG com.chat.message.MessageApplication - Running with Spring Boot v2.5.3, Spring v5.3.9
2023-03-09 23:30:45.816 [restartedMain] INFO  com.chat.message.MessageApplication - The following profiles are active: dev
2023-03-09 23:30:45.867 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-03-09 23:30:45.867 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-03-09 23:30:46.817 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9999 (http)
2023-03-09 23:30:46.817 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9999"]
2023-03-09 23:30:46.817 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-03-09 23:30:46.817 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-03-09 23:30:46.942 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring embedded WebApplicationContext
2023-03-09 23:30:46.942 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1075 ms
2023-03-09 23:30:47.097 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2023-03-09 23:30:47.337 [restartedMain] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2023-03-09 23:30:48.507 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-03-09 23:30:48.527 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9999"]
2023-03-09 23:30:48.542 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path '/message-server'
2023-03-09 23:30:48.552 [restartedMain] INFO  com.chat.message.MessageApplication - Started MessageApplication in 3.23 seconds (JVM running for 4.495)
2023-03-09 23:31:06.320 [http-nio-9999-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-09 23:31:06.322 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-03-09 23:31:06.324 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2023-03-09 23:31:06.438 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id <> ?) 
2023-03-09 23:31:06.460 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:31:06.482 [http-nio-9999-exec-1] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 5
2023-03-09 23:31:09.137 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:31:09.137 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - ==>  Preparing: SELECT id,name,avatar,open_id FROM user WHERE (open_id = ?) 
2023-03-09 23:31:09.138 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 66(String)
2023-03-09 23:31:09.138 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - ==> Parameters: 1111(String)
2023-03-09 23:31:09.140 [http-nio-9999-exec-4] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:31:09.148 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.UserDao.selectList - <==      Total: 1
2023-03-09 23:31:09.311 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==>  Preparing: SELECT COUNT(1) FROM message WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:31:09.312 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.selectPage - ==> Parameters: 0(Integer), 0(Long), 6(Long), 0(Long), 6(Long)
2023-03-09 23:31:09.320 [http-nio-9999-exec-3] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:31:09.321 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_read=? WHERE (del_flag = ? AND sender = ? AND receiver = ?) 
2023-03-09 23:31:09.323 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 1(Integer), 0(Integer), 6(Long), 0(Long)
2023-03-09 23:31:09.324 [http-nio-9999-exec-7] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 23:31:13.627 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_last=? WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:31:13.628 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 0(Integer), 0(Integer), 0(Long), 6(Long), 0(Long), 6(Long)
2023-03-09 23:31:13.629 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 0
2023-03-09 23:31:13.632 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.insert - ==>  Preparing: INSERT INTO message ( type, content, content_type, is_read, sender, receiver, request_id, is_last, created_by, created_time, updated_by, updated_time, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2023-03-09 23:31:13.637 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.insert - ==> Parameters: 0(Integer), [{"type":2,"content":"[偷笑]","imageClass":"smiley_20"},{"type":2,"content":"[悠闲]","imageClass":"smiley_29"}](String), 0(Integer), 0(String), 0(Long), 6(Long), 48efd4a1-2c42-43ec-899e-9d19b6c2d72e(String), true(Boolean), null, 2023-03-09 23:31:13.615(Timestamp), null, null, 0(String)
2023-03-09 23:31:13.638 [http-nio-9999-exec-8] DEBUG com.chat.message.dao.MessageDao.insert - <==    Updates: 1
2023-03-09 23:31:21.685 [http-nio-9999-exec-6] WARN  com.aliyun.oss - [Server]Unable to execute HTTP request: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FBC7D17D343232160C0D
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FBC7D17D343232160C0D</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>9gQG8UX2H4OaCChEwGZTpXqW2RQ=</SignatureProvided>
  <StringToSign>PUT

image/jpeg
Thu, 09 Mar 2023 15:31:20 GMT
/ldzy-zhang/avatar/20230309/40012e5ed1ca44f0aa687d2a2f3e8fb4.jpg</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 6A 70 65 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 33 31 3A 32 30 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 34 30 30 31 32 65 35 65 64 31 63 61 34 34 66 30 61 61 36 38 37 64 32 61 32 66 33 65 38 66 62 34 2E 6A 70 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

2023-03-09 23:31:21.696 [http-nio-9999-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/message-server] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 上传文件失败，请检查配置信息] with root cause
com.aliyun.oss.OSSException: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FBC7D17D343232160C0D
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FBC7D17D343232160C0D</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>9gQG8UX2H4OaCChEwGZTpXqW2RQ=</SignatureProvided>
  <StringToSign>PUT

image/jpeg
Thu, 09 Mar 2023 15:31:20 GMT
/ldzy-zhang/avatar/20230309/40012e5ed1ca44f0aa687d2a2f3e8fb4.jpg</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 6A 70 65 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 33 31 3A 32 30 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 34 30 30 31 32 65 35 65 64 31 63 61 34 34 66 30 61 61 36 38 37 64 32 61 32 66 33 65 38 66 62 34 2E 6A 70 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

	at com.aliyun.oss.common.utils.ExceptionFactory.createOSSException(ExceptionFactory.java:99)
	at com.aliyun.oss.internal.OSSErrorResponseHandler.handle(OSSErrorResponseHandler.java:69)
	at com.aliyun.oss.common.comm.ServiceClient.handleResponse(ServiceClient.java:248)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequestImpl(ServiceClient.java:130)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequest(ServiceClient.java:68)
	at com.aliyun.oss.internal.OSSOperation.send(OSSOperation.java:94)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:149)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:113)
	at com.aliyun.oss.internal.OSSObjectOperation.writeObjectInternal(OSSObjectOperation.java:907)
	at com.aliyun.oss.internal.OSSObjectOperation.putObject(OSSObjectOperation.java:148)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:475)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:457)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:451)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:36)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:30)
	at com.chat.message.config.AliyunCloudStorageService.uploadSuffix(AliyunCloudStorageService.java:47)
	at com.chat.message.web.MobileMediaUploadController.upload(MobileMediaUploadController.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2023-03-09 23:31:22.336 [http-nio-9999-exec-9] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:34:42.508 [restartedMain] INFO  com.chat.message.MessageApplication - Starting MessageApplication using Java 1.8.0_102 on LAPTOP-2IRQMR2A with PID 13484 (C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat\target\classes started by 张强 in C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat)
2023-03-09 23:34:42.511 [restartedMain] DEBUG com.chat.message.MessageApplication - Running with Spring Boot v2.5.3, Spring v5.3.9
2023-03-09 23:34:42.511 [restartedMain] INFO  com.chat.message.MessageApplication - The following profiles are active: dev
2023-03-09 23:34:42.556 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-03-09 23:34:42.556 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-03-09 23:34:43.547 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9999 (http)
2023-03-09 23:34:43.555 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9999"]
2023-03-09 23:34:43.556 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-03-09 23:34:43.556 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-03-09 23:34:43.667 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring embedded WebApplicationContext
2023-03-09 23:34:43.668 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1111 ms
2023-03-09 23:34:43.816 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2023-03-09 23:34:44.040 [restartedMain] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2023-03-09 23:34:45.259 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-03-09 23:34:45.278 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9999"]
2023-03-09 23:34:45.290 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path '/message-server'
2023-03-09 23:34:45.299 [restartedMain] INFO  com.chat.message.MessageApplication - Started MessageApplication in 3.299 seconds (JVM running for 4.566)
2023-03-09 23:34:45.692 [http-nio-9999-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-09 23:34:45.692 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-03-09 23:34:45.693 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-03-09 23:34:45.742 [http-nio-9999-exec-1] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:35:12.158 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_last=? WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:35:12.176 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 0(Integer), 0(Integer), 0(Long), 6(Long), 0(Long), 6(Long)
2023-03-09 23:35:12.182 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 1
2023-03-09 23:35:12.184 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - ==>  Preparing: INSERT INTO message ( type, content, content_type, is_read, sender, receiver, request_id, is_last, created_by, created_time, updated_by, updated_time, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2023-03-09 23:35:12.189 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - ==> Parameters: 0(Integer), [{"type":2,"content":"[悠闲]","imageClass":"smiley_29"}](String), 0(Integer), 0(String), 0(Long), 6(Long), f6c74265-d7c8-4b66-a5a9-5e9fef575692(String), true(Boolean), null, 2023-03-09 23:35:12.098(Timestamp), null, null, 0(String)
2023-03-09 23:35:12.190 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - <==    Updates: 1
2023-03-09 23:35:20.173 [http-nio-9999-exec-5] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:35:21.215 [http-nio-9999-exec-4] WARN  com.aliyun.oss - [Server]Unable to execute HTTP request: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FCB51344D13433E7AD2B
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FCB51344D13433E7AD2B</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>tSNhxN9891vf8yQoH66/lVVGfcQ=</SignatureProvided>
  <StringToSign>PUT

image/jpeg
Thu, 09 Mar 2023 15:35:18 GMT
/ldzy-zhang/avatar/20230309/2e0e43f894d34aa294ed7ae74aa4f690.jpg</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 6A 70 65 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 33 35 3A 31 38 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 32 65 30 65 34 33 66 38 39 34 64 33 34 61 61 32 39 34 65 64 37 61 65 37 34 61 61 34 66 36 39 30 2E 6A 70 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

2023-03-09 23:35:21.226 [http-nio-9999-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/message-server] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 上传文件失败，请检查配置信息] with root cause
com.aliyun.oss.OSSException: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FCB51344D13433E7AD2B
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FCB51344D13433E7AD2B</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>tSNhxN9891vf8yQoH66/lVVGfcQ=</SignatureProvided>
  <StringToSign>PUT

image/jpeg
Thu, 09 Mar 2023 15:35:18 GMT
/ldzy-zhang/avatar/20230309/2e0e43f894d34aa294ed7ae74aa4f690.jpg</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 6A 70 65 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 33 35 3A 31 38 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 32 65 30 65 34 33 66 38 39 34 64 33 34 61 61 32 39 34 65 64 37 61 65 37 34 61 61 34 66 36 39 30 2E 6A 70 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

	at com.aliyun.oss.common.utils.ExceptionFactory.createOSSException(ExceptionFactory.java:99)
	at com.aliyun.oss.internal.OSSErrorResponseHandler.handle(OSSErrorResponseHandler.java:69)
	at com.aliyun.oss.common.comm.ServiceClient.handleResponse(ServiceClient.java:248)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequestImpl(ServiceClient.java:130)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequest(ServiceClient.java:68)
	at com.aliyun.oss.internal.OSSOperation.send(OSSOperation.java:94)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:149)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:113)
	at com.aliyun.oss.internal.OSSObjectOperation.writeObjectInternal(OSSObjectOperation.java:907)
	at com.aliyun.oss.internal.OSSObjectOperation.putObject(OSSObjectOperation.java:148)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:475)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:457)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:451)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:36)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:30)
	at com.chat.message.config.AliyunCloudStorageService.uploadSuffix(AliyunCloudStorageService.java:47)
	at com.chat.message.web.MobileMediaUploadController.upload(MobileMediaUploadController.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2023-03-09 23:36:34.333 [restartedMain] INFO  com.chat.message.MessageApplication - Starting MessageApplication using Java 1.8.0_102 on LAPTOP-2IRQMR2A with PID 18464 (C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat\target\classes started by 张强 in C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat)
2023-03-09 23:36:34.335 [restartedMain] DEBUG com.chat.message.MessageApplication - Running with Spring Boot v2.5.3, Spring v5.3.9
2023-03-09 23:36:34.335 [restartedMain] INFO  com.chat.message.MessageApplication - The following profiles are active: dev
2023-03-09 23:36:34.384 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-03-09 23:36:34.384 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-03-09 23:36:35.393 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9999 (http)
2023-03-09 23:36:35.401 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9999"]
2023-03-09 23:36:35.401 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-03-09 23:36:35.401 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-03-09 23:36:35.505 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring embedded WebApplicationContext
2023-03-09 23:36:35.505 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1120 ms
2023-03-09 23:36:35.652 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2023-03-09 23:36:35.884 [restartedMain] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2023-03-09 23:36:37.132 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-03-09 23:36:37.152 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9999"]
2023-03-09 23:36:37.164 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path '/message-server'
2023-03-09 23:36:37.174 [restartedMain] INFO  com.chat.message.MessageApplication - Started MessageApplication in 3.359 seconds (JVM running for 4.76)
2023-03-09 23:36:37.409 [http-nio-9999-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-09 23:36:37.410 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-03-09 23:36:37.411 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-03-09 23:36:37.466 [http-nio-9999-exec-1] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:36:46.408 [http-nio-9999-exec-3] WARN  com.aliyun.oss - [Server]Unable to execute HTTP request: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FD0BC1979833382F7042
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FD0BC1979833382F7042</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>CwzPtXlh0FHQ6y4etiGGbeMXt5g=</SignatureProvided>
  <StringToSign>PUT

image/png
Thu, 09 Mar 2023 15:36:45 GMT
/ldzy-zhang/avatar/20230309/fb04c0f418754b2fb1cc9823cb7668f8.png</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 70 6E 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 33 36 3A 34 35 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 66 62 30 34 63 30 66 34 31 38 37 35 34 62 32 66 62 31 63 63 39 38 32 33 63 62 37 36 36 38 66 38 2E 70 6E 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

2023-03-09 23:36:46.419 [http-nio-9999-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/message-server] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 上传文件失败，请检查配置信息] with root cause
com.aliyun.oss.OSSException: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FD0BC1979833382F7042
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FD0BC1979833382F7042</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>CwzPtXlh0FHQ6y4etiGGbeMXt5g=</SignatureProvided>
  <StringToSign>PUT

image/png
Thu, 09 Mar 2023 15:36:45 GMT
/ldzy-zhang/avatar/20230309/fb04c0f418754b2fb1cc9823cb7668f8.png</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 70 6E 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 33 36 3A 34 35 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 66 62 30 34 63 30 66 34 31 38 37 35 34 62 32 66 62 31 63 63 39 38 32 33 63 62 37 36 36 38 66 38 2E 70 6E 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

	at com.aliyun.oss.common.utils.ExceptionFactory.createOSSException(ExceptionFactory.java:99)
	at com.aliyun.oss.internal.OSSErrorResponseHandler.handle(OSSErrorResponseHandler.java:69)
	at com.aliyun.oss.common.comm.ServiceClient.handleResponse(ServiceClient.java:248)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequestImpl(ServiceClient.java:130)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequest(ServiceClient.java:68)
	at com.aliyun.oss.internal.OSSOperation.send(OSSOperation.java:94)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:149)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:113)
	at com.aliyun.oss.internal.OSSObjectOperation.writeObjectInternal(OSSObjectOperation.java:907)
	at com.aliyun.oss.internal.OSSObjectOperation.putObject(OSSObjectOperation.java:148)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:475)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:457)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:451)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:36)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:30)
	at com.chat.message.config.AliyunCloudStorageService.uploadSuffix(AliyunCloudStorageService.java:47)
	at com.chat.message.web.MobileMediaUploadController.upload(MobileMediaUploadController.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2023-03-09 23:36:47.459 [http-nio-9999-exec-4] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:43:31.137 [restartedMain] INFO  com.chat.message.MessageApplication - Starting MessageApplication using Java 1.8.0_102 on LAPTOP-2IRQMR2A with PID 22896 (C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat\target\classes started by 张强 in C:\Users\张强\Documents\WeChat Files\wxid_68p7c2r277zq22\FileStorage\File\2023-02\applet-chat)
2023-03-09 23:43:31.140 [restartedMain] DEBUG com.chat.message.MessageApplication - Running with Spring Boot v2.5.3, Spring v5.3.9
2023-03-09 23:43:31.140 [restartedMain] INFO  com.chat.message.MessageApplication - The following profiles are active: dev
2023-03-09 23:43:31.186 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-03-09 23:43:31.186 [restartedMain] INFO  o.s.b.d.env.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-03-09 23:43:32.187 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 9999 (http)
2023-03-09 23:43:32.194 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-9999"]
2023-03-09 23:43:32.195 [restartedMain] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2023-03-09 23:43:32.195 [restartedMain] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.50]
2023-03-09 23:43:32.303 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring embedded WebApplicationContext
2023-03-09 23:43:32.304 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1118 ms
2023-03-09 23:43:32.447 [restartedMain] INFO  c.a.d.s.b.a.DruidDataSourceAutoConfigure - Init DruidDataSource
2023-03-09 23:43:32.684 [restartedMain] INFO  com.alibaba.druid.pool.DruidDataSource - {dataSource-1} inited
2023-03-09 23:43:33.922 [restartedMain] INFO  o.s.b.d.autoconfigure.OptionalLiveReloadServer - LiveReload server is running on port 35729
2023-03-09 23:43:33.941 [restartedMain] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-9999"]
2023-03-09 23:43:33.953 [restartedMain] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 9999 (http) with context path '/message-server'
2023-03-09 23:43:33.962 [restartedMain] INFO  com.chat.message.MessageApplication - Started MessageApplication in 3.327 seconds (JVM running for 4.637)
2023-03-09 23:43:34.380 [http-nio-9999-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/message-server] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-03-09 23:43:34.380 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2023-03-09 23:43:34.381 [http-nio-9999-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2023-03-09 23:43:34.427 [http-nio-9999-exec-1] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
2023-03-09 23:43:50.986 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - ==>  Preparing: UPDATE message SET is_last=? WHERE (del_flag = ? AND ((sender = ? AND receiver = ?) OR (receiver = ? AND sender = ?))) 
2023-03-09 23:43:51.003 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - ==> Parameters: 0(Integer), 0(Integer), 0(Long), 6(Long), 0(Long), 6(Long)
2023-03-09 23:43:51.008 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.update - <==    Updates: 2
2023-03-09 23:43:51.011 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - ==>  Preparing: INSERT INTO message ( type, content, content_type, is_read, sender, receiver, request_id, is_last, created_by, created_time, updated_by, updated_time, del_flag ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) 
2023-03-09 23:43:51.015 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - ==> Parameters: 0(Integer), [{"type":2,"content":"[害羞]","imageClass":"smiley_6"}](String), 0(Integer), 0(String), 0(Long), 6(Long), 8a1ef99e-bb14-4e9f-880b-131455d56550(String), true(Boolean), null, 2023-03-09 23:43:50.925(Timestamp), null, null, 0(String)
2023-03-09 23:43:51.016 [http-nio-9999-exec-2] DEBUG com.chat.message.dao.MessageDao.insert - <==    Updates: 1
2023-03-09 23:43:58.701 [http-nio-9999-exec-4] WARN  com.aliyun.oss - [Server]Unable to execute HTTP request: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FEBCB4DCFB39371741B2
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FEBCB4DCFB39371741B2</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>ZlQm0hlBhUyCZoKFP+lAHUC0Qvs=</SignatureProvided>
  <StringToSign>PUT

image/jpeg
Thu, 09 Mar 2023 15:43:57 GMT
/ldzy-zhang/avatar/20230309/9efd0a376f6d49a393feb2d387d25c59.jpg</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 6A 70 65 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 34 33 3A 35 37 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 39 65 66 64 30 61 33 37 36 66 36 64 34 39 61 33 39 33 66 65 62 32 64 33 38 37 64 32 35 63 35 39 2E 6A 70 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

2023-03-09 23:43:58.711 [http-nio-9999-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/message-server] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: 上传文件失败，请检查配置信息] with root cause
com.aliyun.oss.OSSException: The request signature we calculated does not match the signature you provided. Check your key and signing method.
[ErrorCode]: SignatureDoesNotMatch
[RequestId]: 6409FEBCB4DCFB39371741B2
[HostId]: ldzy-zhang.oss-cn-shenzhen.aliyuncs.com
[ResponseError]:
<?xml version="1.0" encoding="UTF-8"?>
<Error>
  <Code>SignatureDoesNotMatch</Code>
  <Message>The request signature we calculated does not match the signature you provided. Check your key and signing method.</Message>
  <RequestId>6409FEBCB4DCFB39371741B2</RequestId>
  <HostId>ldzy-zhang.oss-cn-shenzhen.aliyuncs.com</HostId>
  <OSSAccessKeyId>LTAI5tRZssYLATQ7tWGtrMEZ</OSSAccessKeyId>
  <SignatureProvided>ZlQm0hlBhUyCZoKFP+lAHUC0Qvs=</SignatureProvided>
  <StringToSign>PUT

image/jpeg
Thu, 09 Mar 2023 15:43:57 GMT
/ldzy-zhang/avatar/20230309/9efd0a376f6d49a393feb2d387d25c59.jpg</StringToSign>
  <StringToSignBytes>50 55 54 0A 0A 69 6D 61 67 65 2F 6A 70 65 67 0A 54 68 75 2C 20 30 39 20 4D 61 72 20 32 30 32 33 20 31 35 3A 34 33 3A 35 37 20 47 4D 54 0A 2F 6C 64 7A 79 2D 7A 68 61 6E 67 2F 61 76 61 74 61 72 2F 32 30 32 33 30 33 30 39 2F 39 65 66 64 30 61 33 37 36 66 36 64 34 39 61 33 39 33 66 65 62 32 64 33 38 37 64 32 35 63 35 39 2E 6A 70 67 </StringToSignBytes>
  <EC>0002-00000040</EC>
</Error>

	at com.aliyun.oss.common.utils.ExceptionFactory.createOSSException(ExceptionFactory.java:99)
	at com.aliyun.oss.internal.OSSErrorResponseHandler.handle(OSSErrorResponseHandler.java:69)
	at com.aliyun.oss.common.comm.ServiceClient.handleResponse(ServiceClient.java:248)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequestImpl(ServiceClient.java:130)
	at com.aliyun.oss.common.comm.ServiceClient.sendRequest(ServiceClient.java:68)
	at com.aliyun.oss.internal.OSSOperation.send(OSSOperation.java:94)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:149)
	at com.aliyun.oss.internal.OSSOperation.doOperation(OSSOperation.java:113)
	at com.aliyun.oss.internal.OSSObjectOperation.writeObjectInternal(OSSObjectOperation.java:907)
	at com.aliyun.oss.internal.OSSObjectOperation.putObject(OSSObjectOperation.java:148)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:475)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:457)
	at com.aliyun.oss.OSSClient.putObject(OSSClient.java:451)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:36)
	at com.chat.message.config.AliyunCloudStorageService.upload(AliyunCloudStorageService.java:30)
	at com.chat.message.config.AliyunCloudStorageService.uploadSuffix(AliyunCloudStorageService.java:47)
	at com.chat.message.web.MobileMediaUploadController.upload(MobileMediaUploadController.java:33)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
2023-03-09 23:43:59.413 [http-nio-9999-exec-5] INFO  com.chat.message.web.WebSocketOneToOneController - sendId:0roomId:6
